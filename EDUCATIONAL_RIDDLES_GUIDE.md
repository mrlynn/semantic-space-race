# Educational Riddles & Difficulty Levels Guide

**Date:** December 12, 2025
**Status:** âœ… Complete

---

## ðŸŽ¯ Overview

The Semantic Hop game now supports **difficulty levels** and **educational modes** for riddle generation. This allows the game to be used as an educational tool, teaching concepts while players enjoy gameplay.

---

## âœ¨ Features

### 1. **Difficulty Levels**

Three difficulty levels control riddle complexity:

| Level | Description | Example |
|-------|-------------|---------|
| **Beginner** | Direct descriptions, obvious clues, dictionary-like | "The bright star at the center of our solar system that provides light and warmth to Earth." |
| **Intermediate** | Balanced challenge, some metaphorical language | "I rise in the east and set in the west, a celestial body that has inspired countless myths and powers photosynthesis." |
| **Advanced** | Cryptic clues, abstract connections, specialized knowledge | "Helios personified, fusion's furnace burning bright, giver of vitamin D and worshipped by ancient civilizations as a deity." |

### 2. **Educational Mode: MongoDB Vector Search**

A specialized mode that teaches MongoDB Vector Search concepts through riddles.

**What it teaches:**
- Vector embeddings (1536-dimensional arrays representing meaning)
- Semantic similarity (cosine similarity between vectors)
- Vector databases and $vectorSearch aggregation
- Clustering in high-dimensional space
- Dimensionality reduction (PCA visualization)

**Example riddle for "cat":**
> "In vector space, I cluster near 'feline' and 'pet' with high cosine similarity. My embedding captures the essence of a furry, independent companion. MongoDB's $vectorSearch would find me when seeking animals that purr."

---

## ðŸš€ Usage

### Creating a Game with Custom Settings

**API Request to `/api/game/create`:**

```javascript
// Standard game with intermediate difficulty (default)
const response = await fetch('/api/game/create', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    nickname: 'YourName',
    topic: 'general-database',
    difficulty: 'intermediate',  // 'beginner' | 'intermediate' | 'advanced'
    educationalMode: null,       // null | 'mongodb-vector-search'
  }),
});
```

**Examples:**

```javascript
// 1. Beginner-friendly game (easy riddles)
{
  nickname: 'StudentName',
  difficulty: 'beginner',
}

// 2. Advanced challenge
{
  nickname: 'Expert',
  difficulty: 'advanced',
}

// 3. MongoDB Vector Search educational mode (teaches vector concepts)
{
  nickname: 'Learner',
  difficulty: 'intermediate',
  educationalMode: 'mongodb-vector-search',
}

// 4. Beginner-level MongoDB Vector Search education
{
  nickname: 'NewDev',
  difficulty: 'beginner',
  educationalMode: 'mongodb-vector-search',
}
```

---

## ðŸ”§ Technical Implementation

### Database Schema Updates

**`models/Game.js`** - Added fields:
```javascript
difficulty: {
  type: String,
  enum: ['beginner', 'intermediate', 'advanced'],
  default: 'intermediate',
},
educationalMode: {
  type: String,
  enum: ['mongodb-vector-search', null],
  default: null,
}
```

### API Changes

**`app/api/game/create/route.js`** - Accepts parameters:
- `difficulty`: Optional, defaults to 'intermediate'
- `educationalMode`: Optional, defaults to null

**Response includes:**
```json
{
  "success": true,
  "gameCode": "ABCD1234",
  "playerId": "uuid-...",
  "topic": "general-database",
  "difficulty": "intermediate",
  "educationalMode": null
}
```

### Riddle Generation

**`lib/openai.js`** - Enhanced `generateDefinition()`:
```javascript
generateDefinition(wordLabel, options = {})
// options.difficulty: 'beginner' | 'intermediate' | 'advanced'
// options.educationalMode: 'mongodb-vector-search' | null
```

**Automatic usage:**
- `lib/gameLogic.js` â†’ `startNewRound()` automatically passes game settings to riddle generation
- No manual intervention needed once game is created

---

## ðŸ“š MongoDB Vector Search Concepts Taught

### Core Concepts in Educational Mode:

1. **Vector Embeddings**
   - Words represented as 1536-dimensional arrays
   - Captures semantic meaning numerically
   - Generated by OpenAI's `text-embedding-3-small` model

2. **Semantic Similarity**
   - Cosine similarity measures closeness (0.0 to 1.0)
   - Similar words cluster together in vector space
   - "cat" is close to "feline", "pet", "animal"

3. **MongoDB Vector Search**
   - `$vectorSearch` aggregation operator
   - Finds semantically related documents
   - Powers the game's similarity search

4. **High-Dimensional Space**
   - 1536 dimensions cannot be visualized directly
   - PCA (Principal Component Analysis) reduces to 3D
   - The 3D game world shows this reduced space

5. **Use Cases**
   - Semantic search (find similar documents)
   - Recommendation systems
   - Question answering
   - Content discovery

### Example Educational Riddle Patterns:

**For "dog":**
> "My embedding vector positions me near 'canine' and 'puppy' in 1536-dimensional space. MongoDB's vector search would cluster me with 'pet', 'bark', and 'tail' based on cosine similarity. I'm a common target when querying for loyal companions."

**For "database":**
> "In vector space, I'm semantically close to 'storage', 'query', and 'collection'. My embedding captures concepts of organization and persistence. MongoDB uses vector search to find documents like me when you need structured data management."

**For "ocean":**
> "Dimensionality reduction projects my high-dimensional embedding into 3D space, clustering me near 'sea', 'wave', and 'marine'. My vector representation captures vastness and salinity, discoverable via semantic similarity search."

---

## ðŸŽ“ Educational Applications

### Classroom Use:

**Scenario 1: MongoDB Training**
- Set `educationalMode: 'mongodb-vector-search'`
- Difficulty: `beginner` (for new developers)
- Students learn vector concepts while playing
- Riddles reinforce technical vocabulary

**Scenario 2: Progressive Difficulty**
- Start session with `difficulty: 'beginner'`
- Increase to `intermediate` after 5 rounds
- Final challenge with `advanced` difficulty
- Builds confidence through graduated complexity

**Scenario 3: Vector Search Workshop**
- Create multiple games simultaneously
- Group 1: Beginner + MongoDB educational mode
- Group 2: Intermediate + standard mode
- Group 3: Advanced + MongoDB educational mode
- Compare learning outcomes

### Self-Study:

**Learning Path:**
1. Play with `difficulty: 'beginner'` + `educationalMode: 'mongodb-vector-search'`
2. Read MongoDB Vector Search documentation
3. Play with `difficulty: 'intermediate'` (same educational mode)
4. Experiment with actual MongoDB Vector Search queries
5. Challenge with `difficulty: 'advanced'`

---

## ðŸ§ª Testing Examples

### Quick Test via Browser Console:

```javascript
// Create a MongoDB educational game (beginner level)
const createGame = async () => {
  const res = await fetch('/api/game/create', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({
      nickname: 'TestUser',
      difficulty: 'beginner',
      educationalMode: 'mongodb-vector-search',
    }),
  });
  const data = await res.json();
  console.log('Game created:', data);
  return data;
};

createGame();
```

### cURL Test:

```bash
# Create beginner-level educational game
curl -X POST http://localhost:3000/api/game/create \
  -H "Content-Type: application/json" \
  -d '{
    "nickname": "VectorLearner",
    "difficulty": "beginner",
    "educationalMode": "mongodb-vector-search"
  }'

# Create advanced-level standard game
curl -X POST http://localhost:3000/api/game/create \
  -H "Content-Type: application/json" \
  -d '{
    "nickname": "ProGamer",
    "difficulty": "advanced"
  }'
```

---

## ðŸ“Š Comparison: Standard vs Educational Mode

| Aspect | Standard Mode | MongoDB Educational Mode |
|--------|---------------|--------------------------|
| **Riddle Focus** | Word meaning & associations | Vector/embedding concepts |
| **Vocabulary** | General English | Technical (embeddings, similarity, vectors) |
| **Learning Goal** | Word guessing skill | MongoDB Vector Search understanding |
| **Riddle Length** | Shorter (150 tokens) | Longer (200 tokens) for explanations |
| **Technical Terms** | Minimal | Frequent (cosine, dimensions, clustering) |
| **Use Case** | Entertainment, vocabulary | Developer training, technical education |

---

## ðŸŽ¯ Future Enhancements

Potential additions for educational modes:

1. **More Educational Modes**
   - `machine-learning`: Teach ML concepts
   - `computer-science`: Algorithms & data structures
   - `biology`: Scientific taxonomy
   - `history`: Historical connections

2. **Difficulty Adaptation**
   - Dynamic difficulty based on player performance
   - AI analyzes guess patterns and adjusts

3. **Learning Analytics**
   - Track concepts players struggle with
   - Generate personalized learning recommendations
   - Export learning progress reports

4. **Hint System Enhancement**
   - Educational hints that teach concepts
   - Progressive hints with increasing educational value

5. **Multiplayer Educational Teams**
   - Team A: MongoDB experts
   - Team B: Beginners learning
   - Collaborative learning gameplay

---

## âœ¨ Summary

The educational riddle system transforms Semantic Hop from a word game into a learning platform:

- **3 difficulty levels** for graduated complexity
- **MongoDB Vector Search educational mode** teaches real technical concepts
- **Automatic integration** - game logic handles everything after creation
- **API-driven** - easy to create custom educational experiences
- **Extensible** - framework supports additional educational modes

**Result:** Players learn MongoDB Vector Search fundamentals while navigating semantic space and competing with friends. ðŸš€ðŸŽ“

---

## ðŸ”— Related Files

- `lib/openai.js` - Riddle generation with difficulty/mode support
- `models/Game.js` - Schema with difficulty/educationalMode fields
- `lib/gameLogic.js` - Passes settings to riddle generation
- `lib/gameStateDB.js` - Game state management with new fields
- `app/api/game/create/route.js` - API endpoint for game creation

---

**Status:** Feature complete and ready for educational use! ðŸŽ‰
